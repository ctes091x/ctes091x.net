---
layout: ../../layouts/blogPostLayout.astro
title: '【Arch+niri+chezmoi】開発環境現状確認 2026-02'
author: '綿糸てせ (@ctes091x)'
pubDate: 2026-02-26
ogImage: 'https://ctes091x.net/blog/dev-env-2026-02/whole-desktop-features.png'
---

# 【Arch+niri+chezmoi】開発環境現状確認 2026-02

## はじめに
Arch Linuxを常用するようになってから約4ヶ月が経過した。春の長期休暇を機に[dotfiles](https://github.com/ctes091x/dotfiles)をNixに移行しようとしているので、一旦現状の環境の振り返りをしたい。


## マシン・OS

### 物理端末: Lenovo Thinkpad T480s
2025-09-21に東京ラジオデパート3Fの[AKIBA JUNKS](https://x.com/akibajunks)にて9000JPYで購入。SSDがなかったのでヨドバシカメラにて512GBのNVMe SSDを5000JPYで購入し挿入した。ここ数ヶ月いわゆるAIバブルの影響で各種半導体製品が著しく値上がりしており、今確認したら同商品が18000JPYになっていた。あのタイミングで購入できたことを幸運に思う。

キーボードを ***†US Backlit†*** に換装して使用している。使わないキーが減り見た目がシンプルになった。

### OS: Arch Linux
工学研究部の先輩から強くおすすめされていたため導入した。当初は[McbeEringi](https://x.com/McbeEringi)さんの[dotfiles](https://github.com/mcbeeringi/dotfiles)にあった`setup.sh`を叩いたら生えた環境をそのまま使用していたが、11月末の調布祭後ごろに再びインストールして自力での環境構築を試みた。現状割と安定して動作している。

### ウィンドウマネージャ: Niri
横方向に無限にスクロールできるタイル型ウィンドウマネージャ。[あなた](https://x.com/anata_lit)氏に紹介されて入れてみたら快適だったので使い続けている。

推奨セットアップに[Dank Material Shell](https://github.com/AvengeMedia/DankMaterialShell)というデスクトップシェルが入っていたのでこれも使っている。いい感じのステータスバーを特段の設定なしで出してくれるのでありがたい。


## 環境のセットアップ

### dotfiles管理: chezmoi
各種設定ファイルを単一のGitリポジトリで管理でき、それらをコマンド一発で自動でホームディレクトリ以下に配置してくれる。`chezmoi init ctes091x`すると[ctes091x/dotfiles](https://github.com/ctes091x/dotfiles)がGitHubからクローンされ、`~/.local/share/chezmoi/`に置かれる。ここにあるファイルを編集して`chezmoi apply`を実行すると、自動で適切な位置にコピーされる。

外部ファイルやGitリポジトリをネット上から取得し、これらを自動で配置することも可能である。`.chezmoiexternal.toml`に種別・URL・更新間隔を記述すると`chezmoi apply`するときに取得・配置される。

```toml
# 記述例。vim-plugのスクリプトをGitHubから取得する
[".local/share/nvim/site/autoload/plug.vim"]
  type = "file"
  url = "https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
  refreshPeriod = "168h"
```

一般ユーザー権限でも導入できるため、solやCEDの端末にもインストールして使用している。

### カラースキーム: Catppuccin Mocha
各種ソフトのカラースキームを[Catppuccin](https://catppuccin.com)で統一している。思いつくおよそあらゆるソフトウェアのテーマファイルが[GitHub](https://github.com/catppuccin)にあるので、これを先述のchezmoiで取得・適用している。


## ターミナル・シェル

### ターミナルエミュレータ: foot
当初はniriの推奨になっていたAlacrittyを使用していたが、[名無し。](https://sevenc7c.com)さんのプロフィールを画像付きで表示したかったため、Sixelフォーマットによる画像表示に対応したfootに乗り換えた。

Catppuccin Mochaテーマを適用している。[Sauce Code Pro Nerd Font](https://www.nerdfonts.com/font-downloads#:~:text=Source%20Code%20Pro)を使用しており、Neovimやtmuxのステータスラインをいい感じに表示できている。

### シェル: zsh
Oh My Zshでテーマとプラグインの管理を行っている。プロンプトテーマはre5et。プラグインは[zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions)のみを導入している。

### ターミナルマルチプレクサ: tmux
tmuxのCatppuccinテーマにいい感じのステータスバーの設定が同梱されていたため、これをそのまま使用している。CPU使用率やバッテリー残量を表示するためのプラグインはchezmoiの外部リポジトリ取得機能を用いてGitHubから落としている。~~TPMはいらない子~~

画面分割のショートカットがVimと逆だったので入れ替えて使用している。

```bash
bind v split-window -h -c '#{pane_current_path}'
bind h split-window -v -c '#{pane_current_path}'
```


## ソフトウェア

### エディタ: Neovim
当初はsolにNeovimがないからという理由でVimを使い続けていたが、別にバイナリを落とすなりソースからビルドするなりすればなんだって入れられることに気が付いたので冬期休暇を利用して移行した。

プラグインマネージャはVimの頃からの惰性でvim-plugを使用している。ステータスラインはlualine、ファイラーはFernを使用している。

[Vimでテトリス](https://www.vim.org/scripts/script.php?script_id=172)をやりまくっていたおかげでhjklによるキー移動にはかなり慣れられたが、このスクリプトはNeovimでは正常に動作しないため、これをやるためだけに今もVimを残している。

### 日本語入力: fcitx5-skk
夏期休暇半ば頃からSKKを使用している。デフォルトの設定では`\`を押してしまうと区点入力モードに移行して身動きが取れなくなってしまうため、`~/.config/libskk/rules/default/keymap/default.json`の`"\\"`のフィールドを消去することでこれを無効化した。~~デフォルトのファイルを上書きするの良くないかもしれない~~

### ランチャー: fuzzel
niriの推奨セットアップにあったのでそのまま入れた。catppuccinテーマを適用している。Dank Material Shellにも組み込みのランチャーがあるが、ショートカットキー一発で開くオプションを見つけられていないため、主としてfuzzelを使用している。

### リソースモニタ: btop
いい感じのTUIでジョブ管理やリソースの監視ができる。catppuccinテーマを適用している。

### Gitクライアント: lazygit
いい感じのTUIでGitリポジトリの操作ができる。catppuccinテーマは適用していないが、ターミナル自体のカラーテーマ設定によってそれらしく表示されている。


## おわりに
とりあえず今後環境を移行したあとで過去を振り返り懐しむに足るだけの情報は残せたと思うので、ここからNix+home-managerへの移行を頑張っていきたい。

本記事は過去に執筆した2編と異なり常体で文章を記述した。肩の力を抜いて軽率に文章を書き散らすべく楽な文体を模索したかったが、敬体/常体の切り替えはほぼ機械的にできるのでさして問題とならないことに気がついた。UEC19の[つまみ](https://trpfrog.net/blog/)さんのブログを個人ブログのひとつの理想像としているが、本記事の文章スタイルはその対極にあるものかもしれない。次からは敬体で書きます

