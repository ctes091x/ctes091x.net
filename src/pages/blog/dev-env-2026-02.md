---
layout: ../../layouts/blogPostLayout.astro
title: '【Arch+niri+chezmoi】開発環境現状確認 2026-02'
author: '綿糸てせ (@ctes091x)'
pubDate: 2026-02-26
ogImage: 'https://ctes091x.net/blog/dev-env-2026-02/whole-desktop-features.png'
---

## はじめに
Arch Linuxを常用するようになってから約4ヶ月が経過しました。春の長期休暇を機に[dotfiles](https://github.com/ctes091x/dotfiles)をNixに移行しようとしているので、一旦現状の環境の振り返りをしたいと思います。

![デスクトップ環境の概況](/blog/dev-env-2026-02/whole-desktop-features.png)


## マシン・OS

### 物理端末: Lenovo ThinkPad T480s
2025-09-21に東京ラジオデパート3Fの[AKIBA JUNKS](https://x.com/akibajunks)にて9000JPYで購入しました。SSDがなかったのでヨドバシカメラにて512GBのNVMe SSDを5000JPYで購入し挿入しました。いわゆるAIバブルの影響でここ数ヶ月のところ各種半導体製品が著しく値上がりしており、今ヨドバシのサイトを確認したところ同商品が18000JPYになっていました。あのタイミングで購入できたことを幸運に思います。

MMAの合宿中にUbuntuをインストールしている様子↓

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">今これ <a href="https://t.co/ps2W5ejqCv">pic.twitter.com/ps2W5ejqCv</a></p>&mdash; 綿糸てせ@電通大SF研 (@ctes091x) <a href="https://twitter.com/ctes091x/status/1971528077638615535?ref_src=twsrc%5Etfw">September 26, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

現在はキーボードを ***†US Backlit†*** に換装して使用しています。

### OS: Arch Linux
工学研究部の先輩から強くおすすめされていたため導入しました。当初は[McbeEringi](https://x.com/McbeEringi)さんの[dotfiles](https://github.com/mcbeeringi/dotfiles)にあった`setup.sh`を叩いて生やした環境をそのまま使用していましたが、11月末の調布祭後ごろに再びインストールして自力での環境構築を試みました。現状割と安定して動作しています。

当初使用していたArch+Hyprland+McbeEringi dotfiles の環境↓

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">おお <a href="https://t.co/tJpWj7adzh">pic.twitter.com/tJpWj7adzh</a></p>&mdash; 綿糸てせ@電通大SF研 (@ctes091x) <a href="https://twitter.com/ctes091x/status/1979802321342411097?ref_src=twsrc%5Etfw">October 19, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

### ウィンドウマネージャ: niri
横方向に無限にスクロールできるタイル型ウィンドウマネージャです。[あなた](https://x.com/anata_lit)氏に紹介されて入れてみたら快適だったので使い続けています。

推奨セットアップに[Dank Material Shell](https://github.com/AvengeMedia/DankMaterialShell)というデスクトップシェルが入っていたのでこれも使っています。いい感じのステータスバーを特段の設定なしで出してくれるのでありがたいです。

![Dank Material Shellのいい感じのステータスバー](/blog/dev-env-2026-02/dank-widget.png)


## 環境のセットアップ

### dotfiles管理: chezmoi
各種設定ファイルを単一のGitリポジトリで管理でき、それらをコマンド一発で自動でホームディレクトリ以下に配置してくれます。`chezmoi init ctes091x`すると[ctes091x/dotfiles](https://github.com/ctes091x/dotfiles)がGitHubからクローンされ、`~/.local/share/chezmoi/`に置かれます。ここにあるファイルを編集して`chezmoi apply`を実行すると、自動で適切な位置にコピーされます。

外部ファイルやGitリポジトリをネット上から取得し、これらを自動で配置することも可能です。`.chezmoiexternal.toml`に種別・URL・更新間隔を記述すると、`chezmoi apply`するときにそれらのファイル類が取得・配置されます。

```toml
# 記述例。vim-plugのスクリプトをGitHubから取得する
[".local/share/nvim/site/autoload/plug.vim"]
  type = "file"
  url = "https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim"
  refreshPeriod = "168h"
```

一般ユーザー権限でも導入できるため、solやCEDの端末にもインストールして使用しています。

> chezmoi, pronounced /ʃeɪ mwa/ (shay-mwa)
> - [chezmoi - chezmoi](https://chezmoi.io)

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">chezmoiの発音に納得が行かない</p>&mdash; 綿糸てせ@電通大SF研 (@ctes091x) <a href="https://twitter.com/ctes091x/status/2002612756395204769?ref_src=twsrc%5Etfw">December 21, 2025</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

### カラースキーム: Catppuccin Mocha
各種ソフトのカラースキームを[Catppuccin](https://catppuccin.com)で統一しています。思いつくおよそあらゆるソフトウェアのテーマファイルが[GitHub](https://github.com/catppuccin)にあるので、これを先述のchezmoiで取得・適用しています。


## ターミナル・シェル

### ターミナルエミュレータ: foot
当初はniriの推奨になっていたAlacrittyを使用していましたが、[名無し。](https://sevenc7c.com)さんのプロフィールを画像付きで表示したかったため、Sixelフォーマットによる画像表示に対応したfootに乗り換えました。

![Sixelによって画像を表示したfootの画面](/blog/dev-env-2026-02/sixel.png)

Catppuccin Mochaテーマを適用しています。[Sauce Code Pro Nerd Font](https://www.nerdfonts.com/font-downloads#:~:text=Source%20Code%20Pro)を使用しており、Neovimやtmuxのステータスラインをいい感じに表示できています。

### シェル: zsh
Oh My Zshでテーマとプラグインの管理を行っています。プロンプトテーマはre5et、プラグインは[zsh-autosuggestions](https://github.com/zsh-users/zsh-autosuggestions)のみを導入しています。

### ターミナルマルチプレクサ: tmux
tmuxのCatppuccinテーマにいい感じのステータスバーの設定が同梱されていたため、これをそのまま使用しています。CPU使用率やバッテリー残量を表示するためのプラグインはchezmoiの外部リポジトリ取得機能を用いてGitHubから落としています。~~TPMはいらない子~~

画面分割のショートカットがVimと逆だったので入れ替えて使用しています。

```bash
bind v split-window -h -c '#{pane_current_path}'
bind h split-window -v -c '#{pane_current_path}'
```


## ソフトウェア

### エディタ: Neovim
冬期休暇頃にVimから移行し、これにあたって設定をLuaに書き換えました。

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">solにNeovimがないからという理由だけでVimを使い続けてたけど、普通にバイナリを落とすなりソースからビルドするなりすればなんだって入れられるので完全に移行してしまったっていい</p>&mdash; 綿糸てせ@電通大SF研 (@ctes091x) <a href="https://twitter.com/ctes091x/status/2010721304182485201?ref_src=twsrc%5Etfw">January 12, 2026</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

プラグインマネージャはVimの頃からの惰性でvim-plugを使用しています。ステータスラインはlualine、ファイラーはFernを使用しています。

![Neovimでこの記事を編集している様子](/blog/dev-env-2026-02/neovim.png)

[Vimでテトリス](https://www.vim.org/scripts/script.php?script_id=172)をやりまくっていたおかげでhjklキーによるカーソル移動にはかなり慣れられましたが、このスクリプトはNeovimでは正常に動作しないため、これをやるためだけに今もVimを残しています。

### 日本語入力: fcitx5-skk
夏期休暇半ば頃からSKKを使用しています。デフォルトの設定では`\`を押してしまうと区点入力モードに移行して身動きが取れなくなってしまうため、`~/.config/libskk/rules/default/keymap/default.json`の`"\\"`のフィールドを消去することでこれを無効化しました。~~デフォルトのファイルを上書きするの良くないかもしれない~~

### ランチャー: fuzzel
niriの推奨セットアップにあったのでそのまま入れました。catppuccinテーマを適用しています。Dank Material Shellにも組み込みのランチャーがありますが、ショートカットキー一発で開くオプションを見つけられていないため、主としてfuzzelを使用しています。

### リソースモニタ: btop
いい感じのTUIでジョブ管理やリソースの監視ができます。catppuccinテーマを適用しています。

### Gitクライアント: lazygit
いい感じのTUIでGitリポジトリの操作ができます。catppuccinテーマは適用していませんが、ターミナル自体のカラーテーマ設定によってそれらしく表示されています。


## おわりに
とりあえず今後環境を移行したあとで過去を振り返り懐かしむに足るだけの情報は残せたと思うので、ここからNix+home-managerへの移行を頑張っていきたいと思います。

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">人々が楽しそうにNixをしばいているのを見てるとchezmoiとかいうの卒業したくなる</p>&mdash; 綿糸てせ@電通大SF研 (@ctes091x) <a href="https://twitter.com/ctes091x/status/2012559993371799576?ref_src=twsrc%5Etfw">January 17, 2026</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

